(()=>{var e={};e.id=949,e.ids=[949],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},5483:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>x,routeModule:()=>d,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var s={};t.r(s),t.d(s,{POST:()=>p});var n=t(5367),o=t(9088),a=t(3807),i=t(4070),u=t(9081);async function c(e){try{return await new Promise(e=>setTimeout(e,1e3)),[{name:"Charizard",set:"Base Set",number:"4/102",confidence:.95,region:{x:50,y:50,width:300,height:420}},{name:"Pikachu",set:"Jungle",number:"60/64",confidence:.92,region:{x:400,y:100,width:300,height:420}}]}catch(e){return console.error("Error detecting cards:",e),[]}}async function p(e){if(!(0,u.getCurrentUser)(e))return i.NextResponse.json({error:"Unauthorized"},{status:401});try{let r=(await e.formData()).get("image");if(!r)return i.NextResponse.json({error:"No image file provided"},{status:400});let t=await r.arrayBuffer(),s=await c(t);return i.NextResponse.json({detectedCards:s,count:s.length,processedAt:new Date().toISOString()})}catch(e){return console.error("Error processing image:",e),i.NextResponse.json({error:"Failed to process image"},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/scan/route",pathname:"/api/scan",filename:"route",bundlePath:"app/api/scan/route"},resolvedPagePath:"/home/ubuntu/pokevalue-tracker/src/app/api/scan/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:m}=d;function x(){return(0,a.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},5276:()=>{},2124:()=>{},9081:(e,r,t)=>{"use strict";t.r(r),t.d(r,{DELETE:()=>c,POST:()=>u,getCurrentUser:()=>p});var s=t(4070),n=t(6623),o=t(2095);let a=[{id:1,email:"user@example.com",password:"password123",name:"Demo User"}],i={};async function u(e){try{let{email:r,password:t}=await e.json(),u=a.find(e=>e.email===r);if(!u||u.password!==t)return s.NextResponse.json({error:"Invalid email or password"},{status:401});let c=(0,o.A)(),p=new Date;p.setDate(p.getDate()+7),i[c]={userId:u.id,expiresAt:p},(0,n.UL)().set({name:"session_id",value:c,httpOnly:!0,path:"/",expires:p,secure:!0});let{password:d,...l}=u;return s.NextResponse.json({message:"Login successful",user:l})}catch(e){return console.error("Login error:",e),s.NextResponse.json({error:"Internal server error"},{status:500})}}async function c(){let e=n.UL().get("session_id")?.value;return e&&i[e]&&delete i[e],(0,n.UL)().delete("session_id"),s.NextResponse.json({message:"Logout successful"})}function p(e){let r=e.cookies.get("session_id")?.value;if(!r||!i[r])return null;let t=i[r];if(new Date>t.expiresAt)return delete i[r],null;let s=a.find(e=>e.id===t.userId);if(!s)return null;let{password:n,...o}=s;return o}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[803,654,989],()=>t(5483));module.exports=s})();